var SessionMonitor=function(){this.VERSION="1.0.0",this.loaded=!1,this.settings=chrome.storage.local,this.enabled,this.poller,this.enableupdate;var e=this,n=!1;this.start=function(){e.checkEnabled(),e.poller=setInterval(e.poll,5e3),chrome.runtime.onMessage.addListener(function(n,o,t){"toggle_module"==n.action&&(e.checkEnabled(),t("checkEnabled"))}),e.loaded=!0},this.poll=function(){e.checkClick()&&(clearInterval(e.poller),setTimeout(function(){e.poller=setInterval(e.poll,5e3)},3e4))},this.checkClick=function(){var n=$("#d2l_sessionExpiryWarning");return!(!e.enabled||1!=n.length||1!=n[0].style.opacity||(n[0].click(),o.log("Plato Enhancement Suite: SessionMonitor has kept your session active!"),0))},this.checkEnabled=function(){e.settings.get("enabled_modules",function(n){var t;t=void 0==n.enabled_modules||n.enabled_modules.sessionmonitor.enabled,e.enabled!=t&&(e.enabled=t,e.enabled?(o.log("Plato Enhancement Suite: SessionMonitor has started!"),e.loaded=!0):(o.log("Plato Enhancement Suite: SessionMonitor is not running!"),e.loaded=!1),chrome.runtime.sendMessage({action:"update_popup_from_module"},null))})},this.info=function(){return{name:"SessionMonitor",version:e.VERSION,is_loaded:e.loaded&&e.enabled}},this.dev=function(e){n=e};var o={log:function(e){n&&console.log(e)}}},sm=new SessionMonitor;module.exports.start=sm.start,module.exports.getInfo=sm.info,module.exports.dev=sm.dev;